package io.febos.development.plugins.febos.maven.permisos;

import org.apache.maven.model.Build;
import org.apache.maven.plugin.MojoExecutionException;
import org.apache.maven.project.MavenProject;
import org.junit.Test;

import java.util.ArrayList;

public class PermisoPluginTest {

    @Test
    public void execute() throws MojoExecutionException {
        PermisoPlugin p = new PermisoPlugin();
        p.project = new MavenProject();
        p.project.setBuild(new Build());
        p.project.getBuild().setOutputDirectory("/Users/claudio/IdeaProjects/Febos3-Backend/chile/lambdasv2/cl_dte_caf/target/classes");

        p.projectClasspathElements = new ArrayList<>();
        String clases = "/Users/claudio/IdeaProjects/Febos3-Backend/chile/lambdasv2/cl_dte_caf/target/classes, /Users/claudio/.m2/repository/io/febos/io_lambda_framework_implement/1.0/io_lambda_framework_implement-1.0.jar, /Users/claudio/.m2/repository/io/febos/frameworks/lambda/1.1/lambda-1.1.jar, /Users/claudio/.m2/repository/com/amazonaws/aws-java-sdk-lambda/1.11.239/aws-java-sdk-lambda-1.11.239.jar, /Users/claudio/.m2/repository/com/google/code/gson/gson/2.6.2/gson-2.6.2.jar, /Users/claudio/.m2/repository/com/google/inject/guice/3.0/guice-3.0.jar, /Users/claudio/.m2/repository/javax/inject/javax.inject/1/javax.inject-1.jar, /Users/claudio/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar, /Users/claudio/.m2/repository/org/json/json/20160810/json-20160810.jar, /Users/claudio/.m2/repository/org/reflections/reflections/0.9.11/reflections-0.9.11.jar, /Users/claudio/.m2/repository/com/google/guava/guava/20.0/guava-20.0.jar, /Users/claudio/.m2/repository/org/javassist/javassist/3.21.0-GA/javassist-3.21.0-GA.jar, /Users/claudio/.m2/repository/io/febos/log/logger/1.0/logger-1.0.jar, /Users/claudio/.m2/repository/com/amazonaws/aws-lambda-java-core/1.2.0/aws-lambda-java-core-1.2.0.jar, /Users/claudio/.m2/repository/com/amazonaws/aws-java-sdk-dynamodb/1.11.239/aws-java-sdk-dynamodb-1.11.239.jar, /Users/claudio/.m2/repository/com/amazonaws/aws-java-sdk-s3/1.11.239/aws-java-sdk-s3-1.11.239.jar, /Users/claudio/.m2/repository/com/amazonaws/aws-java-sdk-kms/1.11.239/aws-java-sdk-kms-1.11.239.jar, /Users/claudio/.m2/repository/com/amazonaws/aws-java-sdk-core/1.11.239/aws-java-sdk-core-1.11.239.jar, /Users/claudio/.m2/repository/commons-logging/commons-logging/1.1.3/commons-logging-1.1.3.jar, /Users/claudio/.m2/repository/software/amazon/ion/ion-java/1.0.2/ion-java-1.0.2.jar, /Users/claudio/.m2/repository/com/fasterxml/jackson/dataformat/jackson-dataformat-cbor/2.6.7/jackson-dataformat-cbor-2.6.7.jar, /Users/claudio/.m2/repository/joda-time/joda-time/2.8.1/joda-time-2.8.1.jar, /Users/claudio/.m2/repository/com/amazonaws/jmespath-java/1.11.239/jmespath-java-1.11.239.jar, /Users/claudio/.m2/repository/mysql/mysql-connector-java/5.1.35/mysql-connector-java-5.1.35.jar, /Users/claudio/.m2/repository/com/amazonaws/aws-java-sdk-sqs/1.11.113/aws-java-sdk-sqs-1.11.113.jar, /Users/claudio/.m2/repository/commons-io/commons-io/2.4/commons-io-2.4.jar, /Users/claudio/.m2/repository/org/freemarker/freemarker/2.3.25-incubating/freemarker-2.3.25-incubating.jar, /Users/claudio/.m2/repository/com/fasterxml/jackson/dataformat/jackson-dataformat-xml/2.9.7/jackson-dataformat-xml-2.9.7.jar, /Users/claudio/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.9.7/jackson-core-2.9.7.jar, /Users/claudio/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.9.0/jackson-annotations-2.9.0.jar, /Users/claudio/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.9.7/jackson-databind-2.9.7.jar, /Users/claudio/.m2/repository/com/fasterxml/jackson/module/jackson-module-jaxb-annotations/2.9.7/jackson-module-jaxb-annotations-2.9.7.jar, /Users/claudio/.m2/repository/org/codehaus/woodstox/stax2-api/3.1.4/stax2-api-3.1.4.jar, /Users/claudio/.m2/repository/com/fasterxml/woodstox/woodstox-core/5.0.3/woodstox-core-5.0.3.jar, /Users/claudio/.m2/repository/org/telegram/telegrambots/3.0.1/telegrambots-3.0.1.jar, /Users/claudio/.m2/repository/org/telegram/telegrambots-meta/3.0.1/telegrambots-meta-3.0.1.jar, /Users/claudio/.m2/repository/com/fasterxml/jackson/jaxrs/jackson-jaxrs-json-provider/2.8.7/jackson-jaxrs-json-provider-2.8.7.jar, /Users/claudio/.m2/repository/com/fasterxml/jackson/jaxrs/jackson-jaxrs-base/2.8.7/jackson-jaxrs-base-2.8.7.jar, /Users/claudio/.m2/repository/org/glassfish/jersey/media/jersey-media-json-jackson/2.25.1/jersey-media-json-jackson-2.25.1.jar, /Users/claudio/.m2/repository/org/glassfish/jersey/ext/jersey-entity-filtering/2.25.1/jersey-entity-filtering-2.25.1.jar, /Users/claudio/.m2/repository/org/glassfish/jersey/containers/jersey-container-grizzly2-http/2.25.1/jersey-container-grizzly2-http-2.25.1.jar, /Users/claudio/.m2/repository/org/glassfish/grizzly/grizzly-http-server/2.3.28/grizzly-http-server-2.3.28.jar, /Users/claudio/.m2/repository/org/glassfish/grizzly/grizzly-http/2.3.28/grizzly-http-2.3.28.jar, /Users/claudio/.m2/repository/org/glassfish/grizzly/grizzly-framework/2.3.28/grizzly-framework-2.3.28.jar, /Users/claudio/.m2/repository/org/glassfish/jersey/core/jersey-server/2.25.1/jersey-server-2.25.1.jar, /Users/claudio/.m2/repository/org/glassfish/jersey/media/jersey-media-jaxb/2.25.1/jersey-media-jaxb-2.25.1.jar, /Users/claudio/.m2/repository/javax/validation/validation-api/1.1.0.Final/validation-api-1.1.0.Final.jar, /Users/claudio/.m2/repository/org/apache/httpcomponents/httpclient/4.5.3/httpclient-4.5.3.jar, /Users/claudio/.m2/repository/org/apache/httpcomponents/httpcore/4.4.6/httpcore-4.4.6.jar, /Users/claudio/.m2/repository/org/apache/httpcomponents/httpmime/4.5.3/httpmime-4.5.3.jar, /Users/claudio/.m2/repository/org/glassfish/jersey/core/jersey-common/2.26-b03/jersey-common-2.26-b03.jar, /Users/claudio/.m2/repository/javax/ws/rs/javax.ws.rs-api/2.1-m05/javax.ws.rs-api-2.1-m05.jar, /Users/claudio/.m2/repository/javax/annotation/javax.annotation-api/1.2/javax.annotation-api-1.2.jar, /Users/claudio/.m2/repository/org/glassfish/jersey/bundles/repackaged/jersey-guava/2.26-b03/jersey-guava-2.26-b03.jar, /Users/claudio/.m2/repository/org/glassfish/hk2/hk2-api/2.5.0-b36/hk2-api-2.5.0-b36.jar, /Users/claudio/.m2/repository/org/glassfish/hk2/hk2-utils/2.5.0-b36/hk2-utils-2.5.0-b36.jar, /Users/claudio/.m2/repository/org/glassfish/hk2/external/aopalliance-repackaged/2.5.0-b36/aopalliance-repackaged-2.5.0-b36.jar, /Users/claudio/.m2/repository/org/glassfish/hk2/external/javax.inject/2.5.0-b36/javax.inject-2.5.0-b36.jar, /Users/claudio/.m2/repository/org/glassfish/hk2/hk2-locator/2.5.0-b36/hk2-locator-2.5.0-b36.jar, /Users/claudio/.m2/repository/org/glassfish/hk2/osgi-resource-locator/1.0.1/osgi-resource-locator-1.0.1.jar, /Users/claudio/.m2/repository/org/glassfish/jersey/core/jersey-client/2.26-b03/jersey-client-2.26-b03.jar, /Users/claudio/.m2/repository/org/glassfish/jersey/media/jersey-media-multipart/2.26-b03/jersey-media-multipart-2.26-b03.jar, /Users/claudio/.m2/repository/org/jvnet/mimepull/mimepull/1.9.6/mimepull-1.9.6.jar, /Users/claudio/.m2/repository/io/febos/frameworks/respuestas/1.0/respuestas-1.0.jar, /Users/claudio/.m2/repository/ch/qos/logback/logback-classic/1.2.1/logback-classic-1.2.1.jar, /Users/claudio/.m2/repository/ch/qos/logback/logback-core/1.2.1/logback-core-1.2.1.jar, /Users/claudio/.m2/repository/io/febos/utils/io_utils_xml/1.0/io_utils_xml-1.0.jar, /Users/claudio/.m2/repository/org/apache/santuario/xmlsec/2.1.2/xmlsec-2.1.2.jar, /Users/claudio/.m2/repository/org/slf4j/slf4j-api/1.7.25/slf4j-api-1.7.25.jar, /Users/claudio/.m2/repository/commons-codec/commons-codec/1.11/commons-codec-1.11.jar, /Users/claudio/.m2/repository/io/febos/utils/io_utils_fechas/1.0/io_utils_fechas-1.0.jar";

        String[] clasesar = clases.split(",");
        for (String c : clasesar) {
            p.projectClasspathElements.add(c.trim());

        }

        p.annotations = new ArrayList<>();
        p.annotations.add(new PermisoAnnotation());
        p.annotations.get(0).setName("io.febos.core.validador.Permiso");
        p.execute();
    }
}